!function(e){e.fn.reviewGate=function(t){var a=e.extend(!0,{},{stepClassName:"review-step",navbarColor:"#fff",navBarClassName:"review-gate-navbar",navBarBackBtnClassName:"review-gate-navbar__btn",enableNavBackBtn:!0,emojiConfig:{emoji:"star",fontSize:42,attributes:{id:"emoji-ratings-wrapper"},css:{}},onUpdate:function(){alert("Add an onUpdate function")}},t),n=Object.create(a.emojiConfig);n.onUpdate=a.onUpdate;var i=this,r=e("."+a.navBarClassName),s=e("."+a.navBarBackBtnClassName);function o(e=50){var t=i.find(".current").outerHeight()+e;i.css("min-height",t)}function c(t){var a=t||i.find(".current").attr("data-step");window.reviewGateSettings.currentStep=a,e("body").attr("data-current-step",a)}var d={init:function(){var t,f;window.reviewGateSettings=a,r.fadeIn(),r.css("background-color",a.navbarColor),s.addClass("hide"),a.enableNavBackBtn&&s.click(function(){d.step(1)}),(t=e("."+a.stepClassName)).hasClass("current")||t.first().addClass("current"),t.each(function(t){e(this).attr("data-step",t+1)}),f=e("<div />").attr(a.emojiConfig.attributes).css(a.emojiConfig.css).appendTo(i.children()[0]),e.fn.emojiRating?f.emojiRating(n):e.getScript("./js/jquery.emojiRatings.min.js",function(){try{e.fn.emojiRating,f.emojiRating(n)}catch(t){throw Error("emojiRating library is a required dependency")}}),c(),o()},step:function(t){var a,n;a=t,n=function(){window.reviewGateSettings.enableNavBackBtn&&(window.reviewGateSettings.currentStep>1?s.removeClass("hide"):s.addClass("hide"))},e(".review-step.current").fadeOut(function(){e(".review-step.current").removeClass("current");var t=e(i).find("[data-step='".concat(a,"']"));t.fadeIn(400),t.addClass("current"),c(a),o(),n()})}};return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist"),this):d.init.apply(this,arguments)}}(jQuery);